import { Button,TabWidget,  Palette } from "std-widgets.slint";
import { FixturesTab } from "fixtures-tab.slint";
import { FunctionsTab } from "functions-tab.slint";
import { VirtualConsoleTab } from "virtual-console-tab.slint";
import { Preview2D } from "views/preview-2d.slint";
import { FunctionView } from "views/function-view.slint";
import { Icons } from "styling.slint";
import { TopBar } from "top-bar.slint";
import { TimeLineView } from "views/timeline-view.slint";

export global MenuBarActions {
    callback save();
    callback save-as();
}

export component AppWindow inherits Window {
    title: "Tsukuyomi";
    icon: Icons.default;
    

    MenuBar {
        Menu {
            title: @tr("File");
            MenuItem {
                title: @tr("New");
                activated => {};
            }
            MenuItem {
                title: @tr("Open");
                activated => {};
            }
            MenuItem {
                title: @tr("Open Recentry");
                activated => {};
            }
            MenuSeparator {}
            MenuItem {
                title: @tr("Save");
                activated =>MenuBarActions.save();
            }
            MenuItem {
                title: @tr("Save As");
                activated => {};
            }
        }
        Menu {
            title: @tr("Edit");
            MenuItem {
                title: @tr("Undo");
                activated => {};
            }
            MenuItem {
                title: @tr("Redo");
                activated => {};
            }
            MenuItem {
                title: @tr("Copy");
                activated => {};
            }
            MenuItem {
                title: @tr("Paste");
                activated => {};
            }
        }
        Menu {
            title: @tr("Help");
            MenuItem {
                title: @tr("About");
                activated => {};
            }
        }
    }// MenuBar

    

    VerticalLayout{
        TopBar {}
        main-pane:=TabWidget {
            height: 70%;
            width:100%;
            Tab {
                title: @tr("Fixtures");
                FixturesTab {}
            }
            Tab {
                title: @tr("Functions");
                FunctionsTab {}
            }
            Tab {
                title: @tr("TimeLine");
                TimeLineView {}
            }
            Tab {
                title: @tr("Virtual Console");
                VirtualConsoleTab {}
            }
        }
        
        Rectangle {
            drop-shadow-blur: 0.2rem;
            drop-shadow-color: Palette.background;
            height: 30%;

            HorizontalLayout {
                //height: 30%;

                
                Preview2D {}
                FunctionView {}
            }
        }
    }
}
